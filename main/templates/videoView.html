{% extends 'header.html' %}
{% load static %}
{% block title %}<title>{{title}} |  AniWatch</title> {% endblock %}
{% block content %}
<style>
    body {
	  background-color: #2b2b31;
	  padding: 20px;
	}
	video[poster]{
	    object-fit: fill;
<!--        background: transparent url(/media/{{videos.title.thumbnail.url}}) 50% 50% / cover no-repeat ;-->
	}
	.page a{
	    background-color: #666;
	    margin-left: 12px;
	    margin-right: 10px;
	    padding:8px 16px 8px 16px;
	    color:#aaa;
	}
	video{
	    height:45vw;
	    width:  65vw;
	}

</style>
<div class="container my-4">
    <h2 style="color:#aaa;">{{title}}</h2>
    {% if series %}
    <h4 style="color:#aaa;">Episode: {{series.number}}</h4>
    
    {% endif %}
    
</div>
{% for videos in series %}
    <div class="container my-4">
        <video controls=True poster="{{videos.title.thumbnail.url}}" >
            <source src="{{videos.video.url}}"type="video/mp4">
        </video>
        <h5 style="color:#aaa;">Views:{{videos.views}}</h5>
<!--        <p style="color:#aaa;">{{videos.episode}}</p>-->
        <div style="text-align:center;">
            {% if series.has_previous %}
            <a href="/videos/{{videos.title}}/{{videos.title_id}}?page={{series.previous_page_number}}" style="color:red;">Previous</a>
            {% endif %}
            {% if series.has_next %}
            <a href="/videos/{{videos.title}}/{{videos.title_id}}?page={{series.next_page_number}}" style="color:red;">Next</a>
            {% endif %}
        </div>
        <hr>
    </div>
    <div class="container my-4">
        <div class="page" style="background-color: #1c1c1c; max-width: 1000px; line-height:70px;">
            {% for pg in series.paginator.page_range %}
                {% if series.number == pg %}
                    <a href="/videos/{{videos.title}}/{{videos.title_id}}?page={{ pg }}" style="background-image:-webkit-linear-gradient(90deg, #ff55a5 0%, #ff5860);opacity:0.8;"> {{ pg }}</a>
                {% else %}
                    <a href="/videos/{{videos.title}}/{{videos.title_id}}?page={{ pg }}" > {{ pg }}</a>
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% endfor %}
{% for videos in series|slice:":1" %}
<hr style="background-color:#aaa;">
    <div class="container my-4">
        <div class="row" style="background-color: #1d1c1f; max-width: 1000px;">
            <div class="col-md-3">
                <img src="/media/{{videos.title.thumbnail}}" width="233px" height="385px" alt="{{video.title}}">
            </div>
            <div class="col-md-8">
                <h2 style="color:#aaa;">{{videos.title.title}}</h2>
                <p style="color:#666; font-size:10pt;">{{videos.title.description}}</p>
                <b style=" color:#aaaa;">Type:</b> <span style=" color:#666; margin-left:10px;">Series</span> <br>
                <b style=" color:#aaaa;">Genre:</b>
                {% for gen in videos.title.genre.all %}
                <span style="color:#666; margin-left:10px;">{{gen.genre}},</span>
                {% endfor %}
            </div>
        </div>
    </div>
{% endfor %}
{% for videos in movie %}
    <div class="container my-4">
        <video preload="none" controls="controls" poster="{{videos.title.thumbnail.url}}">
            <source src="{{videos.video.url}}"type="video/mp4">
        </video>
        <h5 style="color:#aaa;">Views:{{videos.views}}</h5>
    </div>
    <hr style="background-color:#aaa;">
    <div class="container my-4">
        <div class="row" style="background-color: #1d1c1f; max-width: 1000px;">
            <div class="col-md-3">
                <img src="/media/{{videos.title.thumbnail}}" width="233px" height="385px" alt="{{video.title}}">
            </div>
            <div class="col-md-8">
                <h2 style="color:#aaa;">{{videos.title.title}}</h2>
                <p style="color:#666;">{{videos.title.description}}</p>
                <b style=" color:#aaaa;">Type:</b> <span style=" color:#666; margin-left:10px;">Movies</span> <br>
                <b style=" color:#aaaa;">Views:</b> <span style=" color:#666; margin-left:10px;">{{videos.views}}</span> <br>
                <b style=" color:#aaaa;">Genre:</b>
                {% for gen in videos.title.genre.all %}
                <span style="color:#666; margin-left:10px;">{{gen.genre}},</span>
                {% endfor %}
            </div>
        </div>
    </div>
{% endfor %}
{% endblock %}